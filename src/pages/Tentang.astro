---
import MainLayout from "../layouts/MainLayout.astro";

/* ================= CONFIG ================= */
const BASE_URL = import.meta.env.PUBLIC_BASE_URL;

/* ================= FETCH API ================= */
const res = await fetch(`${BASE_URL}/api/v1/about-me`);
const result = await res.json();

const data = result?.data || {};
---

<MainLayout title="Tentang Kami">
  <main class="min-h-screen bg-gray-50">

    <!-- HERO -->
    <section class="bg-blue-800 text-white py-20">
      <div class="container mx-auto px-4 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">
          Tentang Organisasi
        </h1>
        <p class="max-w-2xl mx-auto text-blue-100">
          Informasi resmi terkait profil dan layanan organisasi
        </p>
      </div>
    </section>

    <!-- CONTENT -->
    <section class="container mx-auto px-4 py-16 space-y-16">

      <!-- VISI MISI -->
      {data["visi-misi"] && (
        <div class="bg-white rounded-2xl shadow p-8">
          <h2 class="text-3xl font-bold text-blue-800 mb-4">
            {data["visi-misi"]}
          </h2>
          <p class="text-gray-700 leading-relaxed">
            Informasi visi dan misi organisasi.
          </p>
        </div>
      )}

      <!-- STRUKTUR -->
      {data["struktur"] && (
        <div class="bg-white rounded-2xl shadow p-8">
          <h2 class="text-3xl font-bold text-blue-800 mb-4">
            {data["struktur"]}
          </h2>
          <p class="text-gray-700">
            Struktur organisasi dan susunan jabatan.
          </p>
        </div>
      )}

      <!-- IKM -->
      {data["ikm"] && (
        <div class="bg-white rounded-2xl shadow p-8">
          <h2 class="text-3xl font-bold text-blue-800 mb-4">
            {data["ikm"]}
          </h2>
          <p class="text-gray-700">
            Indeks Kepuasan Masyarakat sebagai indikator kualitas pelayanan.
          </p>

          <a
            href="/about/ikm"
            class="inline-block mt-6 px-6 py-3 bg-blue-700 text-white rounded-xl hover:bg-blue-800 transition"
          >
            Lihat Detail IKM â†’
          </a>
        </div>
      )}

      <!-- MAKLUMAT -->
      {data["maklumat"] && (
        <div class="bg-white rounded-2xl shadow p-8">
          <h2 class="text-3xl font-bold text-blue-800 mb-4">
            {data["maklumat"]}
          </h2>
          <p class="text-gray-700">
            Pernyataan resmi komitmen pelayanan kepada masyarakat.
          </p>
        </div>
      )}

    </section>

  </main>
</MainLayout>
