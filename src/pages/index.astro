---
import MainLayout from "../layouts/MainLayout.astro";
import Pdf from "../components/Pdf.astro";
import { db } from '../lib/db.js';
import { slugify } from "../utils/slugify";
import { isRenderTemplateResult } from "astro/runtime/server/render/astro/render-template.js";

let tentang = [];
let slider = [];

const [t] = await db.execute(
  "SELECT * FROM beranda_dpmptsp ORDER BY urutan ASC"
);
tentang = t;

const [s] = await db.execute(
  "SELECT * FROM beranda_slider ORDER BY urutan ASC"
);
slider = s;

let rows = [];
try {
  const [result] = await db.execute('SELECT * FROM posts WHERE kategori = "Berita" ORDER BY tanggal asc limit 3');
  rows = result;
} catch (e) {
  console.error("DB error:", e);
}

let artikel = [];
try {
  const [result] = await db.execute('SELECT * FROM posts WHERE kategori IN ("Perizinan", "Investasi") ORDER BY tanggal asc limit 2');
  artikel = result;
} catch (e) {
  console.error("DB error:", e);
}

let peta = [];
try {
  const [result] = await db.execute('SELECT * FROM peta_investasi limit 1');
  peta = result;
} catch (e) {
  console.error("DB error:", e);
}


let renstra = [];
try {
  const [result] = await db.execute('SELECT * FROM renstra_investasi');
  renstra = result;
} catch (e) {
  console.error("DB error:", e);
}

let unggul = [];
try {
  const [result] = await db.execute('SELECT * FROM keunggulan ORDER BY tanggal asc limit 6');
  unggul = result;
} catch (e) {
  console.error("DB error:", e);
}
const pdfData = unggul.map(item => ({
  file: item.link,   // URL PDF
  title: item.judul  // Judul PDF
}));

let videos = [];
try {
  const [result] = await db.execute('SELECT * FROM videos ORDER BY tanggal DESC');
  videos = result;
} catch (e) {
  console.error("DB error:", e);
}
---
<style>
.slider-wrapper {
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  box-shadow: 0 20px 40px rgba(0,0,0,.15);
}

.slider-track {
  display: flex;
  transition: transform .6s ease;
}

.slider-item {
  min-width: 100%;
  position: relative;
}
.slider-track {
  will-change: transform;
}

.slider-item img {
  width: 100%;
  height: 380px;
  object-fit: cover;
  display: block;
}

.caption {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 20px;
  background: linear-gradient(transparent, rgba(0,0,0,.7));
  color: #fff;
}

.caption h3 {
  font-size: 18px;
  font-weight: bold;
}

.caption p {
  font-size: 14px;
  opacity: .9;
}

/* NAV */
.nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,.9);
  border-radius: 50%;
  width: 42px;
  height: 42px;
  border: none;
  cursor: pointer;
  font-size: 20px;
}

.nav:hover {
  background: #ffd41d;
}

.prev { left: 12px; }
.next { right: 12px; }


        .slider-container {
            position: relative;
            overflow: hidden;
            border-radius: 1rem;
        }

        .slider-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .slider-slide {
            min-width: 100%;
            position: relative;
        }

        .slider-img {
            width: 100%;
            height: 64vh;
            max-height: 400px;
            object-fit: cover;
            border-radius: 0.5rem;
        }

        .slider-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            color: white;
            padding: 1.5rem;
            border-bottom-left-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
        }

        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s;
        }

        .slider-nav:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-50%) scale(1.1);
        }

        .slider-prev {
            left: 10px;
        }

        .slider-next {
            right: 10px;
        }

        .slider-dots {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
            gap: 0.5rem;
        }

        .slider-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(59, 130, 246, 0.5);
            cursor: pointer;
            transition: all 0.3s;
        }

        .slider-dot.active {
            background-color: rgb(59, 130, 246);
            transform: scale(1.2);
        }

        .slider-dot:hover {
            background-color: rgb(59, 130, 246);
        }

        /* Bingkai biru dan kuning solid */
        .blue-yellow-frame {
            border: 3px solid #1d4ed8;
            /* Biru tua */
            border-top-width: 3px;
            border-left-width: 3px;
            border-right: 3px solid #fbbf24;
            /* Kuning */
            border-bottom: 3px solid #fbbf24;
            /* Kuning */
            border-bottom-right-radius: 1.5rem;
            border-top-left-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        /*pdf viewer */

        
</style>

<MainLayout title="DPMPTSP Kota Surabaya">
<!-- ================= NAVBAR ================= -->
<nav class="bg-dpmBlue text-white sticky top-0 z-50 shadow">
  <div class="max-w-7xl mx-auto px-6">
    <!-- menu dan mobile menu -->
    <div id="mobileMenu" class="hidden md:hidden pb-6">
      <div class="flex flex-col gap-4 font-medium">
        <a href="#beranda" class="hover:text-dpmYellow">Beranda</a>
        <a href="/Tentang" class="hover:text-dpmYellow">Profil</a>
        <a href="#layanan" class="hover:text-dpmYellow">Layanan</a>
        <a href="#kontak" class="hover:text-dpmYellow">Kontak</a>
        <a href="#" class="mt-4 bg-dpmYellow text-dpmBlue px-4 py-2 rounded-lg font-semibold text-center">
          OSS / Perizinan
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- ================= HERO ================= -->
<section class="relative overflow-hidden bg-blue-600">
  <div class="container mx-auto px-4 py-16 md:py-24">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <!-- Hero Text -->
      <div class="text-white animate-fadeInUp animate__animated animate__fadeInUp">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">
          Investasi & Perizinan Terpadu
        </h1>
        <p class="text-xl mb-8 opacity-90">
          Dinas Penanaman Modal dan Pelayanan Terpadu Satu Pintu Kota Surabaya
        </p>
        <div class="flex flex-wrap gap-4">
          <a href="#" class="bg-yellow-400 text-blue-800 font-bold px-6 py-3 rounded-lg hover:bg-yellow-300 transition duration-300 transform hover:scale-105">
            Mulai Berinvestasi <i class="fas fa-arrow-right ml-2"></i>
          </a>
          <a href="#" class="bg-white text-blue-600 font-bold px-6 py-3 rounded-lg hover:bg-gray-100 transition duration-300">
            Lihat Layanan <i class="fas fa-list ml-2"></i>
          </a>
        </div>
      </div>

      <!-- Carousel -->
       <div class="relative slide-in">

  <div id="hero-carousel" class="relative overflow-hidden rounded-2xl shadow-2xl">

    <div class="carousel-item bg-blue-800 p-8 rounded-2xl text-white">
      <h3 class="text-2xl font-bold mb-4">Klinik Investasi Surabaya</h3>
      <p class="mb-6">Konsultasi perizinan usaha di Kota Surabaya dengan tim ahli kami.</p>
      <a href="#" class="inline-flex items-center text-yellow-400 font-medium">
        Selengkapnya <i class="fas fa-chevron-right ml-2"></i>
      </a>
    </div>

    <div class="carousel-item bg-blue-800 p-8 rounded-2xl text-white hidden">
      <h3 class="text-2xl font-bold mb-4">Layanan Cepat & Transparan</h3>
      <p class="mb-6">Proses perizinan lebih mudah untuk warga Surabaya.</p>
      <a href="#" class="inline-flex items-center text-yellow-400 font-medium">
        Selengkapnya <i class="fas fa-chevron-right ml-2"></i>
      </a>
    </div>

  </div>

  <!-- DOTS (WAJIB) -->
  <div class="flex justify-center mt-6 space-x-2">
    <button class="hero-dot w-3 h-3 rounded-full bg-white"></button>
    <button class="hero-dot w-3 h-3 rounded-full bg-white opacity-50"></button>
  </div>

</div>



    </div>
  </div>

  <!-- Decorative Circles -->
  <div class="absolute top-0 right-0 w-64 h-64 bg-yellow-400 rounded-full opacity-10 -translate-y-32 translate-x-32"></div>
  <div class="absolute bottom-0 left-0 w-96 h-96 bg-blue-600 rounded-full opacity-10 -translate-x-64 translate-y-64"></div>
</section>

<script is:inline>
const slides = document.querySelectorAll('#hero-carousel .carousel-item');
const indicators = document.querySelectorAll('#hero-carousel + div button');
let current = 0;

function showSlide(index) {
  slides.forEach((slide,i)=>{
    slide.classList.toggle('hidden', i !== index);
    indicators[i].classList.toggle('opacity-50', i !== index);
  });
  current = index;
}

indicators.forEach((btn,i)=>btn.addEventListener('click',()=>showSlide(i)));
setInterval(()=>showSlide((current+1)%slides.length),5000);
showSlide(current);
</script>

<style>
.hero-gradient {
    background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 50%, #fbbf24 100%);
}
.rounded-2xl { border-radius: 1rem; }
</style>

<!-- ================= TENTANG ================= -->
<section class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
      <!-- Text Content -->
      <div class="animate__animated animate__fadeInUp">
        <h2 class="text-3xl font-bold text-blue-800 mb-6">
          {tentang.find(t => t.tipe === 'judul')?.konten}
        </h2>

        {tentang
          .filter(t => t.tipe === 'paragraf')
          .map(p => (
            <p class="text-gray-700 text-justify mb-6">
              {p.konten}
            </p>
        ))}
        <a href={tentang.find(t => t.tipe === 'link')?.konten} class="inline-flex items-center bg-blue-600 text-white font-bold px-6 py-3 rounded-lg hover:bg-[#0900C3] hover:text-[#FFF100] transition duration-300">
          Baca Selengkapnya <i class="fas fa-arrow-right ml-2"></i>
        </a>

      </div>

      <!-- Image Content -->
      <div class="relative animate__animated animate__fadeInRight">
        <div class="blue-yellow-frame p-1 rounded-2xl shadow-custom">
          <div class="corner-decoration corner-top-left"></div>
          <div class="corner-decoration corner-bottom-right"></div>
          <div class="corner-decoration corner-top-right"></div>
          <div class="corner-decoration corner-bottom-left"></div>

          <!-- Slider Container -->
          <div class="slider-container">
              <div class="slider-track" id="sliderTrack">
                {slider.map(item => (
                  <div class="slider-slide">
                      <img src={item.gambar} alt={item.judul} class="slider-img">
                      <div class="slider-caption">
                          <h3 class="font-bold text-lg">{item.judul}</h3>
                          <p class="text-sm">{item.deskripsi}</p>
                      </div>
                  </div>
                ))}
              </div>

              <!-- Navigation Buttons -->
              <div class="slider-nav slider-prev" id="prevBtn">
                  <i class="fas fa-chevron-left text-blue-800"></i>
              </div>
              <div class="slider-nav slider-next" id="nextBtn">
                  <i class="fas fa-chevron-right text-blue-800"></i>
              </div>
          </div>
          <!-- Dots Indicator -->
        </div>
        <div class="slider-dots" id="sliderDots">
            <!-- Dots will be generated by JavaScript -->
        </div>
      </div>
    </div>
  </div>
</section>


<section class="py-20 bg-white">
  <div class="max-w-7xl mx-auto px-4">

    <!-- JUDUL -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-blue-800 mb-4">
        Mengapa Berinvestasi di Surabaya?
      </h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Kota Surabaya menawarkan berbagai keunggulan sebagai destinasi investasi
        terbaik di Indonesia.
      </p>
    </div>

    <!-- GRID CARD -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {unggul.map(item => (
        <div class="bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300">
        
          <!-- ICON -->
          <div class={`w-16 h-16 bg-${item.warna_bg} rounded-full flex items-center justify-center mb-6`}>
            <i class={`${item.icon} text-${item.warna_icon} text-2xl`}></i>
          </div>
        
          <!-- CONTENT -->
          <h3 class="text-xl font-bold text-blue-800 mb-3">
            {item.judul}
          </h3>
        
          <p class="text-gray-600 mb-6 leading-relaxed">
            {item.deskripsi}
          </p>
        
          <!-- Button untuk membuka PDF -->
          <button class="text-blue-600 font-semibold inline-flex items-center hover:text-blue-800 transition-colors" onClick={`openPDF('${item.link}', '${item.judul}')`}>
            Pelajari Lebih Lanjut <i class="fas fa-arrow-right ml-2"></i>
          </button>
        
        
        </div>
      ))}
    </div>
      {unggul.map(item => (
        <!-- Komponen PDF untuk setiap item -->
        <Pdf file={item.link} title={item.judul} />
      ))}
  </div>
</section>



<section class="py-16">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">

      <!-- KIRI : PETA -->
      <div class="order-2 lg:order-1">
        <div class="relative overflow-hidden h-full">
          <div class="order-2 lg:order-1">
            <div class="rounded-2xl overflow-hidden">
              <img src={peta[0]?.gambar} alt="Peta Potensi Investasi Surabaya" class="w-full h-auto"/>
            </div>
          </div>
        </div>
      </div>

      <!-- KANAN : RENCANA STRATEGIS -->
      <div class="order-1 lg:order-2">
        <h2 class="text-3xl font-bold text-blue-800 mb-6">
          {renstra.find(r => r.tipe === 'judul')?.konten}
        </h2>

        {renstra
          .filter(r => r.tipe === 'paragraf')
          .map(item => (
            <p class="text-gray-700 text-left mb-6 mr-8">
              {item.konten}
            </p>
        ))}

        <div class="mb-8">
          <h3 class="font-bold text-blue-800 mb-4">Wilayah Unggulan:</h3>
          <div class="flex flex-wrap gap-2">
            {renstra
              .filter(r => r.tipe === 'wilayah')
              .map(item => (
                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                  {item.konten}
                </span>
            ))}
          </div>
        </div>

        <a
          href={renstra.find(r => r.tipe === 'link')?.konten}
          class="inline-flex items-center bg-[#FFD41D] text-[#0014FF] font-bold px-6 py-3 rounded-lg hover:bg-[#FFC400] transition duration-300"
        >
          Jelajahi Peta <i class="fas fa-map-marked-alt ml-2"></i>
        </a>

      </div>

    </div>
  </div>
</section>

<section class="py-16 bg-gradient-to-b from-white to-gray-50">
  <div class="container mx-auto px-4">

    <!-- Heading -->
    <div class="text-center mb-12">
      <span class="text-sm font-semibold tracking-wider text-blue-600 uppercase">
        Media Informasi
      </span>
      <h2 class="text-3xl md:text-4xl font-bold text-blue-800 mt-2 mb-4">
        Video Terupdate
      </h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Ikuti perkembangan terbaru seputar investasi dan pelayanan perizinan
        di Kota Surabaya.
      </p>
    </div>
    <!-- Video Grid -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    {videos.map(video => (
      <div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 card-hover">
        <div class="relative">
            <a href={video.url_video} target="_blank" rel="noopener noreferrer" class="block relative h-48 overflow-hidden group cursor-pointer">
                <img src={video.thumbnail} alt={video.judul} class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                <div class="absolute inset-0 group-hover:from-blue-900/60 transition duration-300">
                </div>
                <div class="absolute inset-0 flex items-center justify-center">
                    <div class="w-16 h-16 bg-white/90 rounded-full flex items-center justify-center group-hover:bg-white transition duration-300 transform group-hover:scale-110">
                        <i class="fas fa-play text-blue-600 text-2xl ml-1 group-hover:text-blue-700"></i>
                    </div>
                </div>
                <div class="hidden absolute bottom-3 right-3 bg-black/70 text-white text-xs px-2 py-1 rounded">
                    {video.durasi}
                </div>
                <div class="absolute top-3 left-3 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-lg flex items-center">
                    <i class="fab fa-youtube mr-1"></i> {video.status}
                </div>
            </a>
        </div>
        <div class="p-6">
            <h3 class="text-[20px] font-bold text-blue-800 mb-3">{video.judul}</h3>
            <p class="text-gray-600 text-[14px] mb-4 line-clamp-3">{video.deskripsi}</p>
            <div class="flex items-center justify-between">
                <a href={video.url_video} target="_blank" rel="noopener noreferrer" class="text-blue-600 font-semibold inline-flex items-center text-[15px] hover:text-blue-800 group"> 
                  Tonton video
                    <i class="fas fa-arrow-right ml-2 text-xs group-hover:ml-3 transition-all duration-300"></i>
                </a>
            </div>
        </div>
      </div>
    ))}
  </div>
</section>



<!-- ================= BERITA & ARTIKEL ================= -->
<section class="py-16 bg-gray-50">
  <div class="max-w-7xl mx-auto px-6">

    <!-- HEADING -->
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-dpmBlue mb-4">Berita & Artikel Terupdate</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Informasi terkini seputar perizinan, investasi, dan perkembangan Kota Surabaya.
      </p>
    </div>

    <!-- ================= FEATURED ARTIKEL ================= -->
<section class="py-16 bg-gray-50">
  <div class="container mx-auto px-4">

    <!-- FEATURED ARTIKEL GRID -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
      {artikel.map(artikel => (
        <!-- FEATURED 1 -->
        <div class="bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl shadow-xl">
          <div class="p-8 text-white h-full flex flex-col justify-between">
            <div>
              <span class="inline-block bg-dpmYellow text-dpmBlue text-xs font-bold px-3 py-1 rounded-full mb-4">
                ARTIKEL {artikel.kategori}
              </span>

              <h3 class="text-2xl font-bold mb-4">
                {artikel.judul}
              </h3>

              <p class="text-blue-100 mb-6">
                {artikel.konten}
              </p>
            </div>

            <div class="flex items-center justify-between text-sm">
              <span>ðŸ“… {new Date(artikel.tanggal).toLocaleDateString("id-ID")}</span>
              <a
                href="#"
                class="bg-white text-blue-700 font-semibold px-4 py-2 rounded-lg hover:bg-gray-100 transition"
              >
                Baca Selengkapnya
              </a>
            </div>
          </div>
        </div>
      ))}

    </div>

  </div>
</section>




    <!-- GRID BERITA DYNAMIC -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {rows.map(post => (
        <div class="bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 card-hover flex flex-col h-full">
          <div class="relative h-80 overflow-hidden">
              <img src={post.gambar} alt={post.judul} class="absolute inset-0 w-full h-96 object-cover hover:scale-105 transition-transform duration-500" style="object-position: center 30%;">
              <!-- Logo/Header Overlay -->
          </div>
          <div class="p-5 flex-grow">
              <h3 class="text-lg font-bold text-blue-800 mb-2 line-clamp-2">{post.judul}</h3>
              <p class="text-gray-600 text-sm mb-4">{post.konten}</p>
              <div class="flex items-center justify-between pt-3 border-t border-gray-100 mt-auto">
                  <div class="text-sm text-gray-500">
                      <i class="far fa-calendar-alt mr-1"></i> {new Date(post.tanggal).toLocaleDateString("id-ID")}
                  </div>
                   <a href={`/media/${slugify(post.judul)}`}
                      class="text-blue-600 font-semibold text-sm hover:text-blue-800 flex items-center">
                      Baca Selengkapnya <i class="fas fa-arrow-right ml-1 text-xs"></i>
                  </a>
              </div>
          </div>
        </div>
      ))}
    </div>

    <!-- BUTTON LENGKAP -->
    <div class="text-center mt-12">
      <a href="/beritalist" class="inline-flex items-center bg-dpmYellow text-dpmBlue font-bold px-8 py-3 rounded-lg hover:bg-yellow-300 transition">
        Lihat Semua Berita ðŸ“°
      </a>
    </div>

  </div>
</section>
<script is:inline>
  const track = document.getElementById('sliderTrack');
  const slides = track.children;
  let index = 0;

  function slide() {
    track.style.transform = `translateX(-${index * 100}%)`;
  }

  document.getElementById('nextBtn').onclick = () => {
    index = (index + 1) % slides.length;
    slide();
  };

  document.getElementById('prevBtn').onclick = () => {
    index = (index - 1 + slides.length) % slides.length;
    slide();
  };

  setInterval(() => {
    index = (index + 1) % slides.length;
    slide();
  }, 5000);
</script>

<script>
  function openPDF(url, title) {
    document.getElementById('pdfModal').classList.remove('hidden');
    document.getElementById('pdfModal').classList.add('flex');

    document.getElementById('pdfFrame').src = url;
    document.getElementById('pdfTitle').innerText = title;
    document.getElementById('pdfDownload').href = url;
  }

  function closePDF() {
    document.getElementById('pdfModal').classList.add('hidden');
    document.getElementById('pdfModal').classList.remove('flex');
    document.getElementById('pdfFrame').src = '';
  }
</script>
<script client:load>
  const track = document.getElementById('sliderTrack');
  const slides = track.children;
  let index = 0;

  function moveSlide() {
    track.style.transform = `translateX(-${index * 100}%)`;
  }

  setInterval(() => {
    index = (index + 1) % slides.length;
    moveSlide();
  }, 4000);
</script>
<script is:inline>
document.addEventListener('DOMContentLoaded', () => {

  //iki slider
  const sliderTrack = document.getElementById('sliderTrack');
  const slides = document.querySelectorAll('.slider-slide');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const sliderDots = document.getElementById('sliderDots');

  let currentSlide = 0;
  const totalSlides = slides.length;

  // Create dots
  for (let i = 0; i < totalSlides; i++) {
      const dot = document.createElement('div');
      dot.classList.add('slider-dot');
      if (i === 0) dot.classList.add('active');

      dot.addEventListener('click', () => {
          goToSlide(i);
      });

      sliderDots.appendChild(dot);
  }

  const dots = document.querySelectorAll('.slider-dot');

  // Function to update slider position
  function updateSlider() {
      sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;

      // Update active dot
      dots.forEach((dot, index) => {
        if (index === currentSlide) {
          dot.classList.add('active');
        } else {
          dot.classList.remove('active');
        }
      });
  }

  // Function to go to specific slide
  function goToSlide(slideIndex) {
      currentSlide = slideIndex;
      updateSlider();
  }

  // Next slide function
  function nextSlide() {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateSlider();
  }

  // Previous slide function
  function prevSlide() {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateSlider();
  }

  // Event listeners for buttons
  nextBtn.addEventListener('click', nextSlide);
  prevBtn.addEventListener('click', prevSlide);

  // Auto slide every 5 seconds
  let slideInterval = setInterval(nextSlide, 3000);

  // Pause auto slide on hover
  const sliderContainer = document.querySelector('.slider-container');
  sliderContainer.addEventListener('mouseenter', () => {
      clearInterval(slideInterval);
  });

  sliderContainer.addEventListener('mouseleave', () => {
      slideInterval = setInterval(nextSlide, 5000);
  });

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') prevSlide();
    if (e.key === 'ArrowRight') nextSlide();
  });

  // Initialize slider
  updateSlider();
  const heroSlides = document.querySelectorAll('#hero-carousel .carousel-item');
  const heroDots = document.querySelectorAll('.hero-dot');
  let heroIndex = 0;

  function showHero(i) {
    heroSlides.forEach((s, idx) => {
      s.classList.toggle('hidden', idx !== i);
      heroDots[idx].classList.toggle('opacity-50', idx !== i);
    });
    heroIndex = i;
  }

  heroDots.forEach((dot, i) =>
    dot.addEventListener('click', () => showHero(i))
  );

  setInterval(() => {
    showHero((heroIndex + 1) % heroSlides.length);
  }, 5000);

  showHero(0);
});
</script>
